services:
  - type: web
    name: domain-campaign-check-web
    env: python
    plan: starter
    buildCommand: pip install -r requirements.txt
    startCommand: uvicorn app.web:app --host 0.0.0.0 --port $PORT
    envVars:
      - key: PYTHON_VERSION
        value: 3.12.8
      - key: REDTRACK_API_BASE
        value: https://api.redtrack.io
      - key: TIMEZONE
        value: Asia/Calcutta
      - key: CHECK_TIMEOUT_SECONDS
        value: "15"
      - key: CHECK_RETRIES
        value: "2"
      - key: REDTRACK_API_KEY
        sync: false
      - key: TELEGRAM_BOT_TOKEN
        sync: false
      - key: TELEGRAM_CHAT_ID
        sync: false

# NOTE: No database and no separate cron service.
# The web service runs an internal scheduler. For persistence of settings across deploys,
# attach a Render Persistent Disk and set CONFIG_PATH to a location on that disk.
